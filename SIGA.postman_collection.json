{
	"info": {
		"_postman_id": "6894d68d-5e3e-4fd5-b289-d9bba89dfe8d",
		"name": "SIGA",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "10287489"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"email\":\"concessionaria@pratum.com\",\n\t\"password\":\"teste123\"\t\n}"
						},
						"url": {
							"raw": "{{ENDPOINT}}/auth/login",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "URI para autenticação \n\nCaso o usuario seja autenticado retorna informaçõe para acesso restrito\n\nrequest body:\n```json\n{\n\t\"email\":\"teste@teste.com\",  //email do usuario\n\t\"token\":\"teste\",\t\t\t//senha, ou token google/facebook\n\t\"provider\":\"email\"\t\t\t// email, google ou facebook\n}\n```\n\nEstrutura da resposta:\n\n```json\n{\n    \"code\": 200,  \n    \"expire\": \"2020-02-06T23:48:50-03:00\", //data e hora para o token expirar\n    \"token\": \"eyJhbGciOiJIUzI1NiIsIn\" // token para utilizacao nos acessos restritos posteriores\n}\n```\n\nno caso de falha um erro de autenticação será retornado\n\n```json\n{\n    \"errorMessage\": \"invalid_token: Invalid Value\",\n    \"status\": \"FAILURE\"\n}\n```"
					},
					"response": [
						{
							"name": "Login Falha",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"email\":\"minhocaalice@gmail.com\",\n\t\"token\":\"ya29.ImC9B3kjosjB3H4owrKJvezj1iNZzwfnVsF3LwbZrrMKqGzsu5hLQa8K1hdJv8P5VZ3Thrt9gh3iNXHhEPP6hOOe4CK40MdOwyBE9iY5TcMpppZ11G2rIbhHRoI2x-ChqXs\",\n\t\"provider\":\"google\"\n}\n",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "/auth/login",
									"path": [
										"auth",
										"login"
									]
								}
							},
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Fri, 07 Feb 2020 01:48:50 GMT"
								},
								{
									"key": "Content-Length",
									"value": "226"
								}
							],
							"cookie": [],
							"body": "{\n    \"errorMessage\": \"invalid_token: Invalid Value\",\n    \"status\": \"FAILURE\"\n}"
						},
						{
							"name": "Login sucesso",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"email\":\"teste@teste.com\",\n\t\"token\":\"teste\",\n\t\"provider\":\"email\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{ENDPOINT}}/auth/login",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"auth",
										"login"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Fri, 07 Feb 2020 01:48:50 GMT"
								},
								{
									"key": "Content-Length",
									"value": "226"
								}
							],
							"cookie": [],
							"body": "{\n    \"code\": 200,\n    \"expire\": \"2020-02-06T23:48:50-03:00\",\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1ODEwNDM3MzAsImlkIjoidGVzdGVAdGVzdGUuY29tIiwib3JpZ19pYXQiOjE1ODEwNDAxMzB9.HqKAVtROIJfoNZB8RLsQKxZb6dVaSVWvuBGgQg9rLck\"\n}"
						},
						{
							"name": "Login - falha typo nao informado",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"email\":\"bob@teste.com\",\n\t\"token\":\"123456\",\n\t\"provider\":\"email\"\n}"
								},
								"url": {
									"raw": "{{ENDPOINT}}/auth/login",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"auth",
										"login"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Www-Authenticate",
									"value": "JWT realm=authserver"
								},
								{
									"key": "Date",
									"value": "Wed, 13 May 2020 02:07:55 GMT"
								},
								{
									"key": "Content-Length",
									"value": "47"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"Type is required\",\n    \"success\": false\n}"
						}
					]
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"token\":\"ya29.a0Adw1xeXSzj1PnBTqJc404YfBSs6gIy4sMFRu9zWrz2jcLXyn4_eXBHNuQ5oZCXmn7u7IurbEKMslMAbRvG239Fe_Gnn9eTOZGqAZjkfkpPCN1zBtjQx0YQFo41U-NwfvqJ17vvbKhZd3uwR0I4oKXcMXRbpAFDbGcpH4\",\n\t\"provider\":\"google\"\n}"
						},
						"url": {
							"raw": "{{ENDPOINT}}/auth/logout",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"auth",
								"logout"
							]
						},
						"description": "URI para autenticação \n\nCaso o usuario seja autenticado retorna informaçõe para acesso restrito\n\nrequest body:\n```json\n{\n\t\"token\":\"ya29.a0Adw1xeXSzj1PnBTqJc404YfBSs6gIy4sMF\", // token do provider\n\t\"provider\":\"google\"\n}\n```\n\nEstrutura da resposta:\n\n```json\n{\n    \"message\": \"Revoke was called\",\n    \"success\": false\n}\n```"
					},
					"response": [
						{
							"name": "Logout -google token revoke",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"token\":\"ya29.a0Adw1xeXSzj1PnBTqJc404YfBSs6gIy4sMFRu9zWrz2jcLXyn4_eXBHNuQ5oZCXmn7u7IurbEKMslMAbRvG239Fe_Gnn9eTOZGqAZjkfkpPCN1zBtjQx0YQFo41U-NwfvqJ17vvbKhZd3uwR0I4oKXcMXRbpAFDbGcpH4\",\n\t\"provider\":\"google\"\n}"
								},
								"url": {
									"raw": "{{ENDPOINT}}/auth/logout",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"auth",
										"logout"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Fri, 06 Mar 2020 00:14:05 GMT"
								},
								{
									"key": "Content-Length",
									"value": "48"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"Revoke was called\",\n    \"success\": true\n}"
						}
					]
				},
				{
					"name": "Refresh",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/auth/refresh_token?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjb21wYW55IjowLCJleHAiOjE1ODY5NzcxNzcsImlkIjoibWFnb25qckBnbWFpbC5jb20iLCJuYW1lIjoiIiwib3JpZ19pYXQiOjE1ODY5NzM1NzcsInByb2ZpbGVQaWN0dXJlVXJsIjoiIiwicm9sZXMiOm51bGx9.kZ8wfx8R312rALsVSIH5iVE-AZTgEPAAg17aFiDWUx0",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"auth",
								"refresh_token"
							],
							"query": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjb21wYW55IjowLCJleHAiOjE1ODY5NzcxNzcsImlkIjoibWFnb25qckBnbWFpbC5jb20iLCJuYW1lIjoiIiwib3JpZ19pYXQiOjE1ODY5NzM1NzcsInByb2ZpbGVQaWN0dXJlVXJsIjoiIiwicm9sZXMiOm51bGx9.kZ8wfx8R312rALsVSIH5iVE-AZTgEPAAg17aFiDWUx0"
								}
							]
						},
						"description": "URI para renovação do token de acesso\n\no token atual deve ser passado na query da requisição GET\nGET /auth/refresh_token?token=123456...\n\nEstrutura da resposta:\n```json\n{\n    \"code\": 200,  \n    \"expire\": \"2020-02-06T23:48:50-03:00\", //data e hora para o novo token expirar\n    \"token\": \"eyJhbGciOiJIUzI1NiIsIn\" // novo token para utilizacao nos acessos restritos posteriores\n}\n```\nno caso de falha um erro de autenticação será retornado\n```json\n{\n    \"errorMessage\": \"invalid_token: Invalid Value\",\n    \"status\": \"FAILURE\"\n}\n```"
					},
					"response": [
						{
							"name": "Refresh Sucesso",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{ENDPOINT}}/auth/refresh_token?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1ODA5MTMwMDcsImlkIjoiYWRtaW4iLCJvcmlnX2lhdCI6MTU4MDkwOTQwN30.kJIkcnqADlLVpzffyVkzjr7FqXdiDJP8TextqcKgZ-0",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"auth",
										"refresh_token"
									],
									"query": [
										{
											"key": "token",
											"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1ODA5MTMwMDcsImlkIjoiYWRtaW4iLCJvcmlnX2lhdCI6MTU4MDkwOTQwN30.kJIkcnqADlLVpzffyVkzjr7FqXdiDJP8TextqcKgZ-0"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Www-Authenticate",
									"value": "JWT realm=buzzaoserver"
								},
								{
									"key": "Date",
									"value": "Fri, 07 Feb 2020 01:49:27 GMT"
								},
								{
									"key": "Content-Length",
									"value": "59"
								}
							],
							"cookie": [],
							"body": "{\n    \"code\": 200,\n    \"expire\": \"2020-02-06T23:48:50-03:00\",\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1ODEwNDM3MzAsImlkIjoidGVzdGVAdGVzdGUuY29tIiwib3JpZ19pYXQiOjE1ODEwNDAxMzB9.HqKAVtROIJfoNZB8RLsQKxZb6dVaSVWvuBGgQg9rLck\"\n}\n\n"
						},
						{
							"name": "Refresh Falha",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{ENDPOINT}}/auth/refresh_token?token=token-expirado",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"auth",
										"refresh_token"
									],
									"query": [
										{
											"key": "token",
											"value": "token-expirado"
										}
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Www-Authenticate",
									"value": "JWT realm=buzzaoserver"
								},
								{
									"key": "Date",
									"value": "Fri, 07 Feb 2020 01:49:27 GMT"
								},
								{
									"key": "Content-Length",
									"value": "59"
								}
							],
							"cookie": [],
							"body": "{\n    \"errorMessage\": \"signature is invalid\",\n    \"status\": \"FAILURE\"\n}"
						}
					]
				},
				{
					"name": "Validate User",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"email\":\"teste5@teste.com\",\n\t\"token\":\"123456\",\n\t\"provider\":\"email\",\n\t\"type\":\"S\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ENDPOINT}}/auth/validatenew",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"auth",
								"validatenew"
							]
						},
						"description": "URI para renovação do token de acesso\n\no token atual deve ser passado na query da requisição GET\nGET /auth/refresh_token?token=123456...\n\nEstrutura da resposta:\n```json\n{\n    \"code\": 200,  \n    \"expire\": \"2020-02-06T23:48:50-03:00\", //data e hora para o novo token expirar\n    \"token\": \"eyJhbGciOiJIUzI1NiIsIn\" // novo token para utilizacao nos acessos restritos posteriores\n}\n```\nno caso de falha um erro de autenticação será retornado\n```json\n{\n    \"errorMessage\": \"invalid_token: Invalid Value\",\n    \"status\": \"FAILURE\"\n}\n```"
					},
					"response": [
						{
							"name": "Validate User - facebook",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"email\":\"utoo_xqsveff_user@tfbnw.net\",\n\t\"token\":\"EAADFneQ5GdUBAEQoRslWOmxZBhZB1NRyBswYfyogTRQGPE11QgT08SRQjeXZCYesFM0AOXIGFOwKiIhuKHc5gx0E95NHZCc2SdJOK2XzZAAr4bt4nXXZBnGQAF1ElVfGYP5nZCLMqbW6MeJsiGZAgIDkOTJS3xRcgmSGlo1YcZC3AQEhmYWtJZCZBtpAoknQ6yGt2TGB4laSymXSUlQg16CPDg4\",\n\t\"provider\":\"facebook\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{ENDPOINT}}/auth/validatenew",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"auth",
										"validatenew"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Sat, 09 May 2020 14:09:43 GMT"
								},
								{
									"key": "Content-Length",
									"value": "17"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true\n}"
						},
						{
							"name": "Validate User - Email",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"email\":\"teste5@teste.com\",\n\t\"token\":\"123456\",\n\t\"provider\":\"email\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{ENDPOINT}}/auth/validatenew",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"auth",
										"validatenew"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Sat, 09 May 2020 13:54:43 GMT"
								},
								{
									"key": "Content-Length",
									"value": "17"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true\n}"
						}
					]
				},
				{
					"name": "Esqueci minha senha",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"email\":\"magonjr@gmail.com\",\n\t\"type\":\"I\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/forgotpass",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"forgotpass"
							]
						},
						"description": "POST /forgotpass\n\t\n\t- envia link de recuperacao de senha\n\t- valida email de usuário \n\t- gera um codigo que expira para ser usado na recuperacao de senha\n\t- type é o tipo de usuario S (fornecedor), I (Influenciador)\nrequest body\n```json\n\n{\n\t\"email\":\"exemplo@mail.com\",\n\t\"type\":\"S\"\n}\n\n```"
					},
					"response": [
						{
							"name": "Esqueci minha senha- Falha usuario nao encontrado",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"email\":\"falha@gmail.com\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{ENDPOINT}}/api/v1/forgotpass",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"api",
										"v1",
										"forgotpass"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Sat, 21 Mar 2020 02:20:08 GMT"
								},
								{
									"key": "Content-Length",
									"value": "68"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"User not found email: falha@gmail.com\",\n    \"success\": false\n}"
						}
					]
				},
				{
					"name": "Reenvia email de Confirmação de Conta",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"email\":\"magonjr@gmail.com\",\n\t\"type\":\"I\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/sendvalidationemail",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"sendvalidationemail"
							]
						},
						"description": "POST /sendvalidationemail\n\t\n\t- envia email com link de confiração de conta\t\n\t- type é o tipo de usuario S (fornecedor), I (Influenciador)\nrequest body\n```json\n\n{\n\t\"email\":\"exemplo@mail.com\",\n\t\"type\":\"S\"\n}\n\n```"
					},
					"response": []
				},
				{
					"name": "Esqueci minha senha - Nova Senha",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"code\":\"547ad6bb-713c-4550-a624-cba0c6e01715\",\n\t\"newPass\":\"123456\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/changepass",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"changepass"
							]
						},
						"description": "POST /changepass\n\t\n\t- altera senha do usuario\n\t- valida codigo se existe e nao expirou\n\t- usa o usuario associado aquele codigo\n\t\nrequest body\n```json\n\n{\n\t\"email\":\"exemplo@mail.com\",\n\t\"password\":\"novasenha\"\n\t\n}\n\n```"
					},
					"response": []
				},
				{
					"name": "Esqueci minha senha -  Validar codigo",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/forgotpass/validate/547ad6bb-713c-4550-a624-cba0c6e01715",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"forgotpass",
								"validate",
								"547ad6bb-713c-4550-a624-cba0c6e01715"
							]
						},
						"description": "GET /forgotpass/validate/_code\n\t\n\t- valida um codigo se existe na base\n\t- valida se ja expirou\n\t\nrequest body"
					},
					"response": [
						{
							"name": "Esqueci minha senha -  Validar codigo - sucesso",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{ENDPOINT}}/api/v1/forgotpass/validate/9b0bf809-132e-4ea6-bea7-7753c72dae2e",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"api",
										"v1",
										"forgotpass",
										"validate",
										"9b0bf809-132e-4ea6-bea7-7753c72dae2e"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Sat, 21 Mar 2020 03:20:47 GMT"
								},
								{
									"key": "Content-Length",
									"value": "40"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"Valid code\",\n    \"success\": true\n}"
						},
						{
							"name": "Esqueci minha senha -  Validar codigo: expirado",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{ENDPOINT}}/api/v1/forgotpass/validate/b827b459-5dd0-4398-b19e-3937ee803112",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"api",
										"v1",
										"forgotpass",
										"validate",
										"b827b459-5dd0-4398-b19e-3937ee803112"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Sat, 21 Mar 2020 03:07:39 GMT"
								},
								{
									"key": "Content-Length",
									"value": "43"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"Expired code\",\n    \"success\": false\n}"
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							"var data = postman.getResponseHeader(\"Authorization\");",
							"var token = data.replace('Bearer ','');",
							"",
							"if(token){",
							"    postman.setEnvironmentVariable(\"Token\", token);    ",
							"}",
							""
						]
					}
				}
			]
		},
		{
			"name": "Usuario",
			"item": [
				{
					"name": "Change Password",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"current\":\"123456\",\n\t\"new\":\"teste123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/user/changepass",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"user",
								"changepass"
							]
						},
						"description": "POST /user/changepass\n\n\t- altera a senha do usuario logado\n\t- valida usuario pelo token\n\t- valida senha atual \n\nrequest\n```json\n{\n\t\"current\":\"123456\",\n\t\"new\":\"teste123\"\n}\n```"
					},
					"response": [
						{
							"name": "Change Password - Erro",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"current\":\"teste123\",\n\t\"new\":\"123456\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{ENDPOINT}}/api/v1/user/changepass",
									"host": [
										"{{ENDPOINT}}"
									],
									"path": [
										"api",
										"v1",
										"user",
										"changepass"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Thu, 16 Apr 2020 18:12:14 GMT"
								},
								{
									"key": "Content-Length",
									"value": "100"
								}
							],
							"cookie": [],
							"body": "{\n    \"code\": 2,\n    \"error\": \"Incorrect password\",\n    \"message\": \"Dados incompletos ou inválidos\",\n    \"success\": false\n}"
						}
					]
				},
				{
					"name": "Usuario",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/usuario",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"usuario"
							]
						}
					},
					"response": []
				},
				{
					"name": "Avisos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/usuario/avisos",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"usuario",
								"avisos"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Concessionaria",
			"item": [
				{
					"name": "Ocupantes",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/concessionaria/ocupantes",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"concessionaria",
								"ocupantes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Notificações",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/concessionaria/notificacoes?prazoDe=2024-01-01&prazoAte=2024-05-05",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"concessionaria",
								"notificacoes"
							],
							"query": [
								{
									"key": "prazoDe",
									"value": "2024-01-01"
								},
								{
									"key": "prazoAte",
									"value": "2024-05-05"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Notificação",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/concessionaria/notificacao/2",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"concessionaria",
								"notificacao",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Nova Notificação",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\"cidadeId\": 3,\n\"prazo\":\"2024-04-16\",\n\"motivo\":\"Reforma da Avenida\",\n\"empresas\":[]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/concessionaria/notificacao",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"concessionaria",
								"notificacao"
							]
						}
					},
					"response": []
				},
				{
					"name": "Multas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/concessionaria/multas",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"concessionaria",
								"multas"
							]
						}
					},
					"response": []
				},
				{
					"name": "Nova Multa",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\"vencimento\":\"2024-04-11\",\n\"motivo\":\"Multa Teste\",\n\"valor\": 5000,\n\"empresaOcupanteId\":1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/concessionaria/multa",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"concessionaria",
								"multa"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Multa",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/concessionaria/multa/2",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"concessionaria",
								"multa",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Novo Documento",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\"nome\": \"Norma 255/2024\",\n\"tipo\": \"Norma\",\n\"url\": \"https://utfs.io/f/fff5aff1-6899-4cbe-b846-be05f8004207-doazd7.pdf\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/concessionaria/documento",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"concessionaria",
								"documento"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Documento",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/concessionaria/documento/4",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"concessionaria",
								"documento",
								"4"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Geral",
			"item": [
				{
					"name": "Cidades",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/geral/cidades",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"geral",
								"cidades"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cidade",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/geral/cidade/14",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"geral",
								"cidade",
								"14"
							]
						}
					},
					"response": []
				},
				{
					"name": "Documentos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/geral/documentos",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"geral",
								"documentos"
							]
						}
					},
					"response": []
				},
				{
					"name": "Aviso Lido",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/usuario/aviso/10/lido",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"usuario",
								"aviso",
								"10",
								"lido"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Ocupante",
			"item": [
				{
					"name": "Multas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/ocupante/multas",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"ocupante",
								"multas"
							]
						}
					},
					"response": []
				},
				{
					"name": "Empresa",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/ocupante/empresa",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"ocupante",
								"empresa"
							]
						}
					},
					"response": []
				},
				{
					"name": "Empresa",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{   \n    \"nomeFantasia\": \"Ocupante Telecom\",\n    \"razaoSocial\": \"Ocupante LTDA\",\n    \"cnpjCpf\": \"\",\n    \"inscricaoEstadual\": \"\",\n    \"emailPrincipal\": \"\",\n    \"celularPrincipal\": \"\",\n    \"endereco\": \"\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/ocupante/empresa",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"ocupante",
								"empresa"
							]
						}
					},
					"response": []
				},
				{
					"name": "Notificações",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/ocupante/notificacoes",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"ocupante",
								"notificacoes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Notificações Marcar como Lida",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/ocupante/notificacao/5",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"ocupante",
								"notificacao",
								"5"
							]
						}
					},
					"response": []
				},
				{
					"name": "Faturamento",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/ocupante/faturamento/202404",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"ocupante",
								"faturamento",
								"202404"
							]
						}
					},
					"response": []
				},
				{
					"name": "Faturamento filtros",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/ocupante/faturamento-filtros",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"ocupante",
								"faturamento-filtros"
							]
						}
					},
					"response": []
				},
				{
					"name": "Postes",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/api/v1/ocupante/postes/4119905",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"api",
								"v1",
								"ocupante",
								"postes",
								"4119905"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Version",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{ENDPOINT}}/api/version",
					"host": [
						"{{ENDPOINT}}"
					],
					"path": [
						"api",
						"version"
					]
				},
				"description": "URI para renovação do token de acesso\n\no token atual deve ser passado na query da requisição GET\nGET /auth/refresh_token?token=123456...\n\nEstrutura da resposta:\n```json\n{\n    \"code\": 200,  \n    \"expire\": \"2020-02-06T23:48:50-03:00\", //data e hora para o novo token expirar\n    \"token\": \"eyJhbGciOiJIUzI1NiIsIn\" // novo token para utilizacao nos acessos restritos posteriores\n}\n```\nno caso de falha um erro de autenticação será retornado\n```json\n{\n    \"errorMessage\": \"invalid_token: Invalid Value\",\n    \"status\": \"FAILURE\"\n}\n```"
			},
			"response": [
				{
					"name": "Refresh Falha",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/auth/refresh_token?token=token-expirado",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"auth",
								"refresh_token"
							],
							"query": [
								{
									"key": "token",
									"value": "token-expirado"
								}
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json; charset=utf-8"
						},
						{
							"key": "Www-Authenticate",
							"value": "JWT realm=buzzaoserver"
						},
						{
							"key": "Date",
							"value": "Fri, 07 Feb 2020 01:49:27 GMT"
						},
						{
							"key": "Content-Length",
							"value": "59"
						}
					],
					"cookie": [],
					"body": "{\n    \"errorMessage\": \"signature is invalid\",\n    \"status\": \"FAILURE\"\n}"
				},
				{
					"name": "Refresh Sucesso",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ENDPOINT}}/auth/refresh_token?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1ODA5MTMwMDcsImlkIjoiYWRtaW4iLCJvcmlnX2lhdCI6MTU4MDkwOTQwN30.kJIkcnqADlLVpzffyVkzjr7FqXdiDJP8TextqcKgZ-0",
							"host": [
								"{{ENDPOINT}}"
							],
							"path": [
								"auth",
								"refresh_token"
							],
							"query": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1ODA5MTMwMDcsImlkIjoiYWRtaW4iLCJvcmlnX2lhdCI6MTU4MDkwOTQwN30.kJIkcnqADlLVpzffyVkzjr7FqXdiDJP8TextqcKgZ-0"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json; charset=utf-8"
						},
						{
							"key": "Www-Authenticate",
							"value": "JWT realm=buzzaoserver"
						},
						{
							"key": "Date",
							"value": "Fri, 07 Feb 2020 01:49:27 GMT"
						},
						{
							"key": "Content-Length",
							"value": "59"
						}
					],
					"cookie": [],
					"body": "{\n    \"code\": 200,\n    \"expire\": \"2020-02-06T23:48:50-03:00\",\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1ODEwNDM3MzAsImlkIjoidGVzdGVAdGVzdGUuY29tIiwib3JpZ19pYXQiOjE1ODEwNDAxMzB9.HqKAVtROIJfoNZB8RLsQKxZb6dVaSVWvuBGgQg9rLck\"\n}\n\n"
				}
			]
		},
		{
			"name": "Shipping Supplier Update",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": ""
				}
			},
			"response": []
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYklkIjozLCJleHAiOjE3MTU5MDI4MDksImlkIjoib2N1cGFudGVAcHJhdHVtLmNvbSIsIm5hbWUiOiJPY3VwYW50ZSBUZXN0ZSIsIm9yaWdfaWF0IjoxNzE1Mjk4MDA5LCJ0eXBlIjoib2N1cGFudGUifQ.qkhnausKc9jFYK3vbLoMweHIqrgS6d58A9Vlwfc0V7M",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "ENDPOINT",
			"value": "localhost:8000"
		},
		{
			"key": "TOKEN",
			"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYklkIjo4LCJleHAiOjE3MTIyNDE0MzUsImlkIjoibWFnb25qckBnbWFpbC5jb20iLCJuYW1lIjoiTWFnb24iLCJvcmlnX2lhdCI6MTcxMTYzNjYzNSwidHlwZSI6ImFkbWluIn0.D6fhLMn7VmwnJv03lPv3BMToEZlYPfMlSUBl3h9OCTE",
			"type": "string"
		}
	]
}